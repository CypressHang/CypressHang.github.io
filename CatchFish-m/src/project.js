window.__require=function e(t,o,n){function c(s,a){if(!o[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var u="function"==typeof __require&&__require;if(!a&&u)return u(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+s+"'")}}var h=o[s]={exports:{}};t[s][0].call(h.exports,function(e){return c(t[s][1][e]||e)},h,h.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<n.length;s++)c(n[s]);return c}({BGM:[function(e,t,o){"use strict";cc._RF.push(t,"ddc796u1qRBUojplDq93uAc","BGM"),cc.Class({extends:cc.Component,properties:{audioZuiJiaGeShou:{type:cc.AudioClip,default:null}},start:function(){this.ctrl=1,cc.audioEngine.play(this.audioZuiJiaGeShou,!0,1)},play:function(){this.current=cc.audioEngine.play(this.audioZuiJiaGeShou,!0,1)},pause:function(){cc.audioEngine.stopAll()},DianJI:function(){1==this.ctrl?(this.ctrl=0,this.pause()):(this.ctrl=1,this.play())}}),cc._RF.pop()},{}],Cat:[function(e,t,o){"use strict";cc._RF.push(t,"c949azvoERJsbR29x7dN6pr","Cat");e("Hook");cc.Class({extends:cc.Component,properties:{mHook:cc.Node},start:function(){},startAnim:function(){this.getComponent(cc.Animation).play("cat")},OnAnimEnd:function(){this.mHook.getComponent("Hook").StartLine()}}),cc._RF.pop()},{Hook:"Hook"}],Controller:[function(e,t,o){"use strict";cc._RF.push(t,"0cad3jQVTFNmpl6A4ndHlm5","Controller");e("Hook");var n=e("GameData");cc.Class({extends:cc.Component,properties:{mHook:{default:null,type:cc.Node},audioHey:{type:cc.AudioClip,default:null},mSpeed:350,mMoveToPos:{default:cc.v2(0,0),visible:!1},mIsMoving:{default:!1,visible:!1},mEnableTouch:{default:!1,visible:!1},mCanvas:{default:null,type:cc.Node},mEndUI:{default:null,type:cc.Node}},onTouchStart:function(e){var t=e.getTouches()[0].getLocation();this.mIsMoving=!0,this.mMoveToPos=this.node.parent.convertToNodeSpaceAR(t)},onTouchMove:function(e){var t=e.getTouches()[0].getLocation();this.mMoveToPos=this.node.parent.convertToNodeSpaceAR(t)},onTouchEnd:function(e){this.mIsMoving=!1},update:function(e){if(this.mIsMoving){var t=this.node.position,o=this.mMoveToPos.sub(t).normalize();o.y=0;var n=t.add(o.mul(this.mSpeed*e));this.node.setPosition(n)}},EnableTouch:function(){this.mEnableTouch||(this.mCanvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.mCanvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.mCanvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.mCanvas.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.mEnableTouch=!0,console.log("EnableTouch"))},DisableTouch:function(){this.mEnableTouch&&(this.mCanvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.mCanvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.mCanvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.mCanvas.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.mEnableTouch=!1,console.log("DisableTouch"))},start:function(){this.EnableTouch()},onCollisionEnter:function(e,t){e.node.color=cc.Color.RED,this.mHook.getComponent("Hook").RegainLine(),e.node.stopAllActions(),e.node.group="default",e.node.parent=this.node,e.node.setPosition(cc.v2(0,0)),e.node.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.5,-60*e.node.scaleX),cc.rotateTo(.5,-30*e.node.scaleX)))),cc.audioEngine.play(this.audioHey,!1,1),n.instance.score=n.instance.score+10+Math.random().toFixed(2),this.GameEnd()},GameEnd:function(){this.mEndUI.getComponent("EndUI").Show()}}),cc._RF.pop()},{GameData:"GameData",Hook:"Hook"}],EndUI:[function(e,t,o){"use strict";cc._RF.push(t,"479b0Jt63tLvJbSg9CnZMlC","EndUI"),cc.Class({extends:cc.Component,properties:{},start:function(){this.Hide()},Hide:function(){this.node.active=!1},Show:function(){this.node.active=!0}}),cc._RF.pop()},{}],Fish:[function(e,t,o){"use strict";cc._RF.push(t,"52839qR5pFDw4yXQ3BMO8EY","Fish"),cc.Class({extends:cc.Component,properties:{mSpeed:{default:1,type:cc.Float,tooltip:"\u9c7c\u7684\u901f\u5ea6,\u9ed8\u8ba4\u6b63\u5e38\u901f\u5ea6\u4e3a1\uff0c\u6700\u5c0f\u503c\u4e3a0.1\uff0c\u6700\u5927\u503c\u4e3a10",min:.1}},start:function(){var e=this.node.x,t=5-(this.node.x+320)/640*5,o=cc.sequence(cc.moveTo(t,320,this.node.y),cc.flipX(!0),cc.moveTo(t,e,this.node.y),cc.moveTo(5-t,-320,this.node.y),cc.flipX(!1),cc.moveTo(5-t,e,this.node.y)),n=cc.speed(cc.repeatForever(o),this.mSpeed);this.node.runAction(n)}}),cc._RF.pop()},{}],GameData:[function(e,t,o){"use strict";cc._RF.push(t,"5e306XIf3dIyatAiH7pbyDF","GameData");var n=cc.Class({extends:cc.Component,statics:{instance:null},properties:{score:0,depth:0}});n.instance=new n,t.exports=n,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"3464cGX3+lAcJflLkq3schm","Game");var n=e("GameData");cc.Class({extends:cc.Component,properties:{mPrefab:{default:null,type:cc.Prefab},mFishPool:{default:null,type:cc.Node},mHook:{default:null,type:cc.Node},mDepth:{default:0,type:cc.Float,visible:!1},mSceneData:{default:null,type:cc.JsonAsset},mIndex:{default:0,visible:!1},mController:{default:null,type:cc.Node}},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=!1},reset:function(){n.instance.depth=0,n.instance.score=0,this.mFishPool.removeAllChildren(!0),this.mController.removeAllChildren(!0),this.mController.x=0,this.mIndex=0},start:function(){},update:function(e){var t=Math.abs(this.mHook.y)/100;this.mDepth=Math.floor(t);var o=this.mSceneData.json[this.mIndex];if(void 0!=o&&this.mDepth>=o.depth){var c=cc.instantiate(this.mPrefab);cc.loader.loadRes(o.res,cc.SpriteFrame,function(e,t){e||(c.getComponent(cc.Sprite).spriteFrame=t)}),c.x=640*Math.random()-320,c.y=this.mHook.y-480-100,this.mFishPool.addChild(c),this.mIndex++}n.instance.depth=Math.max(n.instance.depth,t)}}),cc._RF.pop()},{GameData:"GameData"}],HUD:[function(e,t,o){"use strict";cc._RF.push(t,"a4e73vagDhHvZ5G3ojfc1vN","HUD");var n=e("GameData");cc.Class({extends:cc.Component,properties:{mScoreLabel:cc.Label,mDepthLabel:cc.Label},start:function(){},update:function(e){this.mScoreLabel.string=n.instance.score,this.mDepthLabel.string="\u6df1\u5ea6:"+n.instance.depth.toFixed(2)}}),cc._RF.pop()},{GameData:"GameData"}],Hook:[function(e,t,o){"use strict";cc._RF.push(t,"339a0WgWf5PmZHVvmV6G7Y8","Hook"),cc.Class({extends:cc.Component,properties:{RegainSpeed:320,isRegaining:{default:!1,visible:!1}},start:function(){},StartLine:function(){this.node.stopAllActions(),this.node.runAction(cc.repeatForever(cc.moveBy(1,cc.p(0,-100)))),this.isRegaining=!1},RegainLine:function(){if(!this.isRegaining){this.node.stopAllActions();var e=Math.abs(this.node.y)/this.RegainSpeed;e<5&&(e=5),this.node.runAction(cc.moveTo(e,cc.v2(0,0)).easing(cc.easeSineIn())),this.isRegaining=!0}}}),cc._RF.pop()},{}],MainUI:[function(e,t,o){"use strict";cc._RF.push(t,"4a5e53vmlBH8qFU9/mRmxuL","MainUI"),cc.Class({extends:cc.Component,properties:{},start:function(){},Hide:function(){this.node.active=!1},Show:function(){this.node.active=!0}}),cc._RF.pop()},{}]},{},["BGM","Cat","Controller","EndUI","Fish","Game","GameData","HUD","Hook","MainUI"]);